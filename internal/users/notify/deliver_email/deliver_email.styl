// https://github.com/leemunroe/responsive-html-email-template
// https://www.litmus.com/blog/the-little-known-preview-text-hack-you-may-want-to-use-in-every-email/

@import "nodeca.core/client/common/_variables"


//$container-width = 580px
$container-width = 100%
//$brand-primary = #34495e
$content-bg-color = $white
$link-hover-color = darken($link-color, 20%)

$font-size = 14px
$font-size-sm = 12px

$font-size-mobile = 16px
$font-size-sm-mobile = 14px

hidden()
  color transparent
  display none
  height 0
  max-height 0
  max-width 0
  opacity 0
  overflow hidden
  mso-hide all
  visibility hidden
  width 0


img
  border none
  -ms-interpolation-mode bicubic
  max-width 100%

body
  background-color $gray-100
  font-family sans-serif
  -webkit-font-smoothing antialiased
  font-size $font-size
  line-height 1.4
  margin 0
  padding 0
  -ms-text-size-adjust 100%
  -webkit-text-size-adjust 100%

table
  border-collapse separate
  mso-table-lspace 0pt
  mso-table-rspace 0pt
  width 100%

  td
    font-family sans-serif
    font-size $font-size
    vertical-align top


// BODY & CONTAINER

.body
  background-color $gray-100
  width 100%
  table-layout fixed

.body-side-space
  width 10px

// Set a max-width, and make it display as block so it will automatically
// stretch to that width, but will also shrink down on a phone or something
.container
  display block
  margin 0 auto !important
  padding 10px
  // makes it centered
  //max-width $container-width
  //width $container-width

// This should also be a block element, so that it will fill 100% of the .container
.content
  box-sizing border-box
  display block
  margin 0 auto
  max-width $container-width
  padding 10px


// HEADER, FOOTER, MAIN

.main
  background $content-bg-color
  border-radius 3px
  width 100%

.wrapper
  box-sizing border-box
  // Bottom border reduced, to compensate margin of <p> in content
  padding 20px 20px 5px

.content-block
  padding-bottom 10px
  padding-top 10px

.footer
  clear both
  //margin-top 10px
  text-align center
  width 100%

  td
  p
  span
  a
    color $gray-500
    font-size $font-size-sm
    //text-align center

  .unsubscribe
  .content-block
    font-size $font-size-sm


// TYPOGRAPHY

h1
h2
h3
h4
  color #000000
  font-family sans-serif
  font-weight 400
  line-height 1.4
  margin 0
  margin-bottom 30px

h1
  font-size 35px
  font-weight 300
  text-align center
  text-transform capitalize

p
ul
ol
  font-family sans-serif
  font-size $font-size
  font-weight normal
  margin 0
  margin-bottom 15px

p li
ul li
ol li
  list-style-position inside
  margin-left 5px

a
  color $link-color
  text-decoration underline


// BUTTONS

.btn
  box-sizing border-box
  width 100%
  & > tbody > tr > td
    padding-bottom 15px

  table
    width auto

  table td
    background-color $content-bg-color
    border-radius 5px
    text-align center

  a
    background-color $content-bg-color
    border solid 1px $brand-primary
    border-radius 5px
    box-sizing border-box
    color $brand-primary
    cursor pointer
    display inline-block
    font-size $font-size
    font-weight bold
    margin 0
    padding 8px 16px
    text-decoration none
    text-transform capitalize

.btn-primary
  table td
    background-color $brand-primary

  a
    background-color $brand-primary
    border-color $brand-primary
    color $content-bg-color

// OTHER STYLES THAT MIGHT BE USEFUL

.last
  margin-bottom 0

.first
  margin-top 0

.align-center
  text-align center

.align-right
  text-align right

.align-left
  text-align left

.clear
  clear both

.mt0
  margin-top 0

.mb0
  margin-bottom 0

.preheader
  hidden()

// HR + fallback to table

hr
  border 0
  border-bottom 1px solid $gray-200
  margin 15px 0

hr.hr-after-button
  margin: 7px 0 15px
  border-bottom 1px solid $gray-300

table.hr
  width 100%
  margin-top 15px
  padding-bottom 15px
  & > tr > td
    font-size 1px
    line-height 1px
    background-color $gray-200

table.hr.hr-after-button
  margin-top 7px
  & > tr > td
    background-color $gray-300

// Quote + spoiler

.quote
  margin 0 16px 16px // reset defaults
  background-color $quote-bg-color
  border-radius 0 2px 2px 0
  color $quote-color
  border 1px solid $quote-border-color
  border-left 2px solid $quote-decorator-color
  padding 8px 16px 0

.quote__title
  font-size $font-size-sm
  padding .5rem 0

.quote__controls
.quote__author-avatar
  hidden()

.quote__author
  font-size $font-size-sm
  font-style italic

.quote__content
  .link
    color $link-color + 10%


// RESPONSIVE AND MOBILE FRIENDLY STYLES

@media only screen and (max-width 620px)
  table.body
    h1
      font-size 28px !important
      margin-bottom 10px !important

    p,
    ul,
    ol,
    td,
    span,
    a
      font-size $font-size-mobile !important

    .wrapper,
    .article
      padding 10px !important

    .content
      padding 0 !important

    .container
      padding 0 !important
      width 100% !important

    .main
      border-left-width 0 !important
      border-radius 0 !important
      border-right-width 0 !important

    .btn table
      width 100% !important

    .btn a
      width 100% !important

    .img-responsive
      height auto !important
      max-width 100% !important
      width auto !important

    .footer
      .unsubscribe
      .content-block
        font-size $font-size-sm-mobile !important
        & a
          font-size $font-size-sm-mobile !important

    .quote__title
    .quote__author
    .quote__author-name
      font-size $font-size-sm-mobile !important


// PRESERVE THESE STYLES IN THE HEAD

@media all
  .ExternalClass
    width 100%

  .ExternalClass,
  .ExternalClass p,
  .ExternalClass span,
  .ExternalClass font,
  .ExternalClass td,
  .ExternalClass div
    line-height 100%

  .unsubscribe a
    color inherit !important
    font-family inherit !important
    font-size inherit !important
    font-weight inherit !important
    line-height inherit !important
    //text-decoration none !important

  #MessageViewBody a
    color inherit
    //text-decoration none
    font-size inherit
    font-family inherit
    font-weight inherit
    line-height inherit

  a:hover
    color $link-hover-color !important

  .btn-primary
    table td:hover
      background-color $link-hover-color !important

    a:hover
      background-color $link-hover-color !important
      border-color $link-hover-color !important
      color $content-bg-color !important
